(this["webpackJsonpnasa-app"]=this["webpackJsonpnasa-app"]||[]).push([[0],{37:function(e,a,t){e.exports=t(73)},46:function(e,a,t){},48:function(e,a,t){},49:function(e,a,t){},51:function(e,a,t){},52:function(e,a,t){},53:function(e,a,t){},54:function(e,a,t){},72:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(15),o=t.n(l),c=t(13),s=t(10),i=t(2),u=r.a.createContext(),m=u.Provider,d=u.Consumer,p=function(){return function(e){return function(a){return r.a.createElement(d,null,(function(t){return r.a.createElement(e,Object.assign({},a,{astronomyService:t}))}))}}},h=(t(46),function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(s.b,{className:"navbar-brand",to:"/nasa-api"},"Astronomy Picture of the Day"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor02","aria-controls":"navbarColor02","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor02"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item "},r.a.createElement(s.b,{className:"nav-link",to:"/nasa-api"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/nasa-api/catalog"},"Catalog")))))}),E=t(9),v=t(12),y=t(19),f=t(18),g=(t(48),function(){return r.a.createElement("div",{className:"loadingio-spinner-eclipse-vsejm86ysv9"},r.a.createElement("div",{className:"ldio-nhgy21l9o6i"},r.a.createElement("div",null)))}),D=(t(49),function(){return r.a.createElement("div",{className:"alert alert-dismissible alert-secondary"},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert"},"\xd7"),r.a.createElement("h2",null,"Ooops! Something gone wrong with API."),r.a.createElement("h3",null,"NASA has already sent astronauts to fix the problem."),r.a.createElement("h5",null,"(Try choose this date later!)"))}),b=function(e){return{type:"ASTRONOMY_ERROR",payload:e}},O=t(36),A=t.n(O),N=function(){function e(){Object(E.a)(this,e)}return Object(v.a)(e,null,[{key:"convertDateToDefaultFormat",value:function(e){return A()(e).format(this._defaultFormat)}}]),e}();N._defaultFormat="YYYY-MM-DD";t(51);var _=N.convertDateToDefaultFormat(new Date),T=function(e){Object(y.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).handleChangeDate=function(a){var t=a.target.value;t!==_&&localStorage.setItem("date",t),e.props.fetchAstronomy(t)},e}return Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAstronomy(this.props.selectedDate)}},{key:"render",value:function(){var e=this.props,a=e.astronomy,t=e.loading,n=e.error;return r.a.createElement("div",{className:"picture-details"},r.a.createElement("div",{className:"picture-date"},r.a.createElement("h3",null,"Choose another date"),r.a.createElement("input",{type:"date",max:_,value:a.length>0?a[0].date:_,onChange:this.handleChangeDate})),n?r.a.createElement(D,null):null,t?r.a.createElement(g,null):null,a.map((function(e,a){var t=e.media_type,n=e.title,l=e.date,o=e.url,c=e.explanation;return r.a.createElement("div",{className:"picture-details",key:a},r.a.createElement("h4",null,l),r.a.createElement("h1",null,n),"image"===t?r.a.createElement("img",{src:o,alt:"astronomy"}):r.a.createElement("iframe",{src:o,frameBorder:"0",width:"70%",height:"700px",title:"video",allowFullScreen:!0}),r.a.createElement("p",null,c))})))}}]),t}(n.Component),j=p()(Object(c.b)((function(e){return{astronomy:e.astronomy,loading:e.loading,error:e.error,selectedDate:e.selectedDate}}),(function(e,a){var t=a.astronomyService;return{fetchAstronomy:function(a){e({type:"ASTRONOMY_REQUESTED"}),t.getAstronomy(a).then((function(a){var t=a.data,n=[];n.push(t),e({type:"ASTRONOMY_LOADED",payload:n})})).catch((function(a){e(b(a))}))}}}))(T)),C=(t(52),function(){return r.a.createElement("div",{className:"alert alert-dismissible alert-secondary"},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert"},"\xd7"),r.a.createElement("span",null,"Choose another date"))}),S=(t(53),function(e){Object(y.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).handleStartDateChanged=function(a){e.props.startDateChanged(a.target.value),e.props.fetchAstronomyList(a.target.value,e.props.endDate)},e.handleEndDateChanged=function(a){e.props.endDateChanged(a.target.value),e.props.fetchAstronomyList(e.props.startDate,a.target.value)},e}return Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAstronomyList(this.props.startDate,this.props.endDate)}},{key:"render",value:function(){var e=this.props,a=e.astronomy,t=e.loading,n=e.error,l=e.startDate,o=e.endDate;return r.a.createElement("div",{className:"picture-list"},r.a.createElement("div",{className:"list-range"},r.a.createElement("span",null,"From:"),r.a.createElement("input",{type:"date",value:l,max:o,onChange:this.handleStartDateChanged}),r.a.createElement("span",null,"To:"),r.a.createElement("input",{type:"date",value:o,min:l,max:N.convertDateToDefaultFormat(new Date),onChange:this.handleEndDateChanged})),n?r.a.createElement(C,null):null,t?r.a.createElement(g,null):null,r.a.createElement("div",{className:"card-list"},a.map((function(e,a){var t=e.media_type,n=e.title,l=e.date,o=e.url;return r.a.createElement("div",{key:a,className:"card text-white bg-primary mb-3"},r.a.createElement("div",{className:"card-header"},n),r.a.createElement("div",{className:"card-body"},"image"===t?r.a.createElement("img",{src:o,alt:"astronomy"}):r.a.createElement("iframe",{src:o,frameBorder:"0",width:"100%",height:"100%",title:"video",allowFullScreen:!0}),r.a.createElement("span",null,l)))}))))}}]),t}(n.Component)),R=p()(Object(c.b)((function(e){return{astronomy:e.astronomy,loading:e.loading,error:e.error,startDate:e.startDate,endDate:e.endDate}}),(function(e,a){var t=a.astronomyService;return{fetchAstronomyList:function(a,n){e({type:"ASTRONOMY_REQUESTED"}),t.getAstronomyList(a,n).then((function(a){var t=a.data;e({type:"ASTRONOMY_LIST_LOADED",payload:t.reverse()})})).catch((function(a){e(b(a))}))},startDateChanged:function(a){e({type:"START_DATE_CHANGED",payload:a})},endDateChanged:function(a){e({type:"END_DATE_CHANGED",payload:a})}}}))(S)),w=(t(54),p()((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/nasa-api",exact:!0,component:j}),r.a.createElement(i.a,{path:"/nasa-api/catalog",component:R})))}))),k=t(24),Y=t.n(k),L=(t(72),t(17)),M=t(7),x=localStorage.getItem("date"),F=N.convertDateToDefaultFormat(new Date),K={astronomy:[],selectedDate:null===x?F:x,startDate:"2020-06-12",endDate:F,loading:!0,error:null},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ASTRONOMY_REQUESTED":return Object(M.a)(Object(M.a)({},e),{},{astronomy:[],loading:!0,error:null});case"ASTRONOMY_LOADED":return Object(M.a)(Object(M.a)({},e),{},{astronomy:a.payload,loading:!1,error:null});case"ASTRONOMY_ERROR":return Object(M.a)(Object(M.a)({},e),{},{astronomy:[],loading:!1,error:a.payload});case"ASTRONOMY_LIST_LOADED":return Object(M.a)(Object(M.a)({},e),{},{astronomy:a.payload,loading:!1,error:null});case"START_DATE_CHANGED":return Object(M.a)(Object(M.a)({},e),{},{startDate:a.payload});case"END_DATE_CHANGED":return Object(M.a)(Object(M.a)({},e),{},{endDate:a.payload});default:return e}},I=Object(L.b)(B),H=new function e(){var a=this;Object(E.a)(this,e),this._apiBase="https://api.nasa.gov/planetary/apod?",this._apiKey="&api_key=1Y7KbQaKepAKKDALm5fRa1FX69qfZJ50ddAXqtv3",this.getAstronomy=function(e){var t=Y.a.get("".concat(a._apiBase,"date=").concat(e).concat(a._apiKey));return new Promise((function(e){e(t)}))},this.getAstronomyList=function(e,t){var n=Y.a.get("".concat(a._apiBase,"start_date=").concat(e,"&end_date=").concat(t).concat(a._apiKey));return new Promise((function(e){return e(n)}))}};o.a.render(r.a.createElement(c.a,{store:I},r.a.createElement(m,{value:H},r.a.createElement(s.a,null,r.a.createElement(w,null)))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.bd81216e.chunk.js.map